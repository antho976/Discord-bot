/**
 * Professions and Crafting - Tier 3
 */

import fs from 'fs';
import path from 'path';
import { getMaterial as getMatFromAPI } from './materials-api.js';
import { GEM_RECIPES } from './gems.js';

const BASE_PROFESSIONS = {
  blacksmith: {
    id: 'blacksmith',
    name: 'Blacksmith',
    description: 'Craft weapons and armor',
    recipes: [
      'starter_sword_recipe', 'leather_armor_recipe', 'sword_recipe', 'armor_recipe',
      'steel_sword_recipe', 'mithril_blade_recipe', 'mithril_plate_recipe',
      'copper_plate_recipe', 'copper_helm_recipe', 'copper_greaves_recipe', 'copper_boots_recipe',
      'granite_plate_recipe', 'granite_helm_recipe', 'granite_greaves_recipe', 'granite_boots_recipe',
      'bronze_plate_recipe', 'bronze_helm_recipe', 'bronze_boots_recipe', 'bronze_greaves_recipe',
      'iron_helm_recipe', 'iron_greaves_recipe', 'iron_boots_recipe',
      'steel_longsword_recipe', 'steel_helm_recipe', 'steel_plate_recipe', 'steel_greaves_recipe', 'steel_boots_recipe',
      'mithril_helm_recipe', 'mithril_boots_recipe', 'mithril_greaves_recipe',
      // Class-exclusive recipes
      'warrior_greatsword_recipe', 'warrior_plate_recipe',
      'mage_staff_recipe', 'mage_robes_recipe',
      'rogue_daggers_recipe', 'rogue_leathers_recipe',
      'ranger_bow_recipe', 'ranger_armor_recipe',
      'paladin_hammer_recipe', 'paladin_shield_recipe',
      // Early game weapons
      'apprentice_sword_recipe', 'novice_wand_recipe', 'rusty_dagger_recipe', 'wooden_mace_recipe', 'holy_sword_recipe',
      'iron_cleaver_recipe', 'crystal_wand_recipe', 'steel_dirk_recipe', 'blessed_mace_recipe', 'blessed_longsword_recipe',
      'battle_axe_recipe', 'sage_staff_recipe', 'shadow_blade_recipe', 'holy_hammer_recipe', 'sacred_blade_recipe',
      // Intermediate Norse/Greek weapons
      'odin_blade_recipe', 'thor_axe_junior_recipe',
      'hermes_staff_recipe', 'athena_staff_junior_recipe',
      'fenrir_daggers_recipe', 'hermes_daggers_recipe',
      'heimdall_mace_recipe', 'zeus_hammer_junior_recipe', 'paladin_holy_blade_recipe',
      // Mythic Norse/Greek weapons
      'tyr_warblade_recipe', 'apollo_sunstaff_recipe',
      'loki_shadowblades_recipe', 'aegis_hammer_recipe',
      // Gem crafting (Master Blacksmith only)
      'ruby_gem_t1_recipe', 'sapphire_gem_t1_recipe', 'emerald_gem_t1_recipe', 'diamond_gem_t1_recipe',
      'ruby_gem_t2_recipe', 'sapphire_gem_t2_recipe', 'emerald_gem_t2_recipe', 'diamond_gem_t2_recipe',
      'ruby_gem_t3_recipe', 'sapphire_gem_t3_recipe', 'emerald_gem_t3_recipe', 'diamond_gem_t3_recipe',
      'odin_gem_recipe', 'thor_gem_recipe', 'freya_gem_recipe', 'loki_gem_recipe'
    ],
  },
  botanic: {
    id: 'botanic',
    name: 'Botanic',
    description: 'Craft potions and herbal remedies',
    recipes: [
      // Tier 1 - BASIC (accessible to everyone)
      'xp_potion_t1', 'gold_potion_t1', 'health_potion_t1', 'gathering_potion_t1', 'loot_potion_t1',
      // Tier 2 - UNCOMMON (accessible to everyone)
      'xp_potion_t2', 'gold_potion_t2', 'health_potion_t2', 'gathering_potion_t2', 'loot_potion_t2',
      // Tier 3+ require profession
      'xp_potion_t3', 'gold_potion_t3', 'health_potion_t3', 'gathering_potion_t3', 'loot_potion_t3',
      'xp_potion_t4', 'gold_potion_t4', 'health_potion_t4', 'gathering_potion_t4', 'loot_potion_t4',
      'xp_potion_t5', 'gold_potion_t5', 'health_potion_t5', 'gathering_potion_t5', 'loot_potion_t5',
    ],
  },
  enchanter: {
    id: 'enchanter',
    name: 'Enchanter',
    description: 'Enhance equipment with magical properties',
    recipes: [
      // Tier 1 - BASIC (accessible to everyone)
      'damage_enchant_t1', 'xp_enchant_t1', 'loot_enchant_t1', 'doublehit_enchant_t1', 'boss_damage_enchant_t1',
      // Tier 2 - UNCOMMON (accessible to everyone)
      'damage_enchant_t2', 'xp_enchant_t2', 'loot_enchant_t2', 'doublehit_enchant_t2', 'boss_damage_enchant_t2',
      // Tier 3+ require profession
      'damage_enchant_t3', 'xp_enchant_t3', 'loot_enchant_t3', 'doublehit_enchant_t3', 'boss_damage_enchant_t3',
      'damage_enchant_t4', 'xp_enchant_t4', 'loot_enchant_t4', 'doublehit_enchant_t4', 'boss_damage_enchant_t4',
      'damage_enchant_t5', 'xp_enchant_t5', 'loot_enchant_t5', 'doublehit_enchant_t5', 'boss_damage_enchant_t5',
    ],
  },
  gathering: {
    id: 'gathering',
    name: 'Gatherer',
    description: 'Master of resource collection with specialized tools and buffs',
    recipes: [
      // Mining tools
      'basic_pickaxe', 'uncommon_pickaxe', 'rare_pickaxe', 'epic_pickaxe', 'legendary_pickaxe',
      // Chopping tools
      'basic_axe', 'uncommon_axe', 'rare_axe', 'epic_axe', 'legendary_axe',
      // Herbing tools
      'basic_sickle', 'uncommon_sickle', 'rare_sickle', 'epic_sickle', 'legendary_sickle',
      // Gathering buffs
      'yield_blessing_t1', 'yield_blessing_t2', 'yield_blessing_t3',
      'rarity_finder_t1', 'rarity_finder_t2', 'rarity_finder_t3',
      'speed_gloves_t1', 'speed_gloves_t2', 'speed_gloves_t3',
    ],
  },
};

const BASE_RECIPES = {
  steel_sword_recipe: {
    id: 'steel_sword_recipe',
    name: 'Steel Sword Recipe',
    profession: 'blacksmith',
    level: 6,
    materials: { iron_ore: 45, coal: 24 },
    output: { item: 'steel_sword', quantity: 1 },
    craftTime: 8,
  },
  mithril_blade_recipe: {
    id: 'mithril_blade_recipe',
    name: 'Mithril Blade Recipe',
    profession: 'blacksmith',
    level: 10,
    materials: { mithril_ore: 24, adamantite: 9, mana_crystal: 6 },
    output: { item: 'mithril_blade', quantity: 1 },
    craftTime: 15,
  },
  mithril_plate_recipe: {
    id: 'mithril_plate_recipe',
    name: 'Mithril Plate Recipe',
    profession: 'blacksmith',
    level: 11,
    materials: { mithril_ore: 50, adamantite: 20, dragonhide: 15, mana_crystal: 10 },
    output: { item: 'mithril_plate', quantity: 1 },
    craftTime: 18,
  },
  copper_plate_recipe: {
    id: 'copper_plate_recipe',
    name: 'Copper Plate Recipe',
    profession: 'blacksmith',
    level: 2,
    materials: { copper_ore: 24, coal: 6 },
    output: { item: 'copper_plate', quantity: 1 },
    craftTime: 3,
  },
  copper_helm_recipe: {
    id: 'copper_helm_recipe',
    name: 'Copper Helm Recipe',
    profession: 'blacksmith',
    level: 1,
    materials: { copper_ore: 12, coal: 3 },
    output: { item: 'copper_helm', quantity: 1 },
    craftTime: 2,
  },
  copper_greaves_recipe: {
    id: 'copper_greaves_recipe',
    name: 'Copper Greaves Recipe',
    profession: 'blacksmith',
    level: 2,
    materials: { copper_ore: 15, coal: 3 },
    output: { item: 'copper_greaves', quantity: 1 },
    craftTime: 2,
  },
  copper_boots_recipe: {
    id: 'copper_boots_recipe',
    name: 'Copper Boots Recipe',
    profession: 'blacksmith',
    level: 1,
    materials: { copper_ore: 9, coal: 3 },
    output: { item: 'copper_boots', quantity: 1 },
    craftTime: 2,
  },
  granite_plate_recipe: {
    id: 'granite_plate_recipe',
    name: 'Granite Plate Recipe',
    profession: 'blacksmith',
    level: 7,
    materials: { granite: 18, iron_ore: 12, coal: 6 },
    output: { item: 'granite_plate', quantity: 1 },
    craftTime: 7,
  },
  granite_helm_recipe: {
    id: 'granite_helm_recipe',
    name: 'Granite Helm Recipe',
    profession: 'blacksmith',
    level: 6,
    materials: { granite: 12, iron_ore: 9, coal: 3 },
    output: { item: 'granite_helm', quantity: 1 },
    craftTime: 6,
  },
  granite_greaves_recipe: {
    id: 'granite_greaves_recipe',
    name: 'Granite Greaves Recipe',
    profession: 'blacksmith',
    level: 7,
    materials: { granite: 15, iron_ore: 9, coal: 6 },
    output: { item: 'granite_greaves', quantity: 1 },
    craftTime: 6,
  },
  granite_boots_recipe: {
    id: 'granite_boots_recipe',
    name: 'Granite Boots Recipe',
    profession: 'blacksmith',
    level: 6,
    materials: { granite: 9, iron_ore: 6, coal: 3 },
    output: { item: 'granite_boots', quantity: 1 },
    craftTime: 5,
  },
  bronze_plate_recipe: {
    id: 'bronze_plate_recipe',
    name: 'Bronze Plate Recipe',
    profession: 'blacksmith',
    level: 2,
    materials: { copper_ore: 30, coal: 6, leather: 3 },
    output: { item: 'bronze_plate', quantity: 1 },
    craftTime: 3,
  },
  bronze_helm_recipe: {
    id: 'bronze_helm_recipe',
    name: 'Bronze Helm Recipe',
    profession: 'blacksmith',
    level: 2,
    materials: { copper_ore: 18, coal: 3 },
    output: { item: 'bronze_helm', quantity: 1 },
    craftTime: 2,
  },
  bronze_boots_recipe: {
    id: 'bronze_boots_recipe',
    name: 'Bronze Boots Recipe',
    profession: 'blacksmith',
    level: 2,
    materials: { copper_ore: 15, leather: 6 },
    output: { item: 'bronze_boots', quantity: 1 },
    craftTime: 2,
  },
  bronze_greaves_recipe: {
    id: 'bronze_greaves_recipe',
    name: 'Bronze Greaves Recipe',
    profession: 'blacksmith',
    level: 2,
    materials: { copper_ore: 21, leather: 3 },
    output: { item: 'bronze_greaves', quantity: 1 },
    craftTime: 3,
  },
  iron_helm_recipe: {
    id: 'iron_helm_recipe',
    name: 'Iron Helm Recipe',
    profession: 'blacksmith',
    level: 4,
    materials: { iron_ore: 24, coal: 6 },
    output: { item: 'iron_helm', quantity: 1 },
    craftTime: 4,
  },
  iron_greaves_recipe: {
    id: 'iron_greaves_recipe',
    name: 'Iron Greaves Recipe',
    profession: 'blacksmith',
    level: 4,
    materials: { iron_ore: 30, coal: 9, leather: 3 },
    output: { item: 'iron_greaves', quantity: 1 },
    craftTime: 5,
  },
  iron_boots_recipe: {
    id: 'iron_boots_recipe',
    name: 'Iron Boots Recipe',
    profession: 'blacksmith',
    level: 3,
    materials: { iron_ore: 18, coal: 6, leather: 3 },
    output: { item: 'iron_boots', quantity: 1 },
    craftTime: 4,
  },
  steel_longsword_recipe: {
    id: 'steel_longsword_recipe',
    name: 'Steel Longsword Recipe',
    profession: 'blacksmith',
    level: 7,
    materials: { iron_ore: 42, coal: 18, granite: 6 },
    output: { item: 'steel_longsword', quantity: 1 },
    craftTime: 8,
  },
  steel_helm_recipe: {
    id: 'steel_helm_recipe',
    name: 'Steel Helm Recipe',
    profession: 'blacksmith',
    level: 7,
    materials: { iron_ore: 36, coal: 15, granite: 6 },
    output: { item: 'steel_helm', quantity: 1 },
    craftTime: 7,
  },
  steel_plate_recipe: {
    id: 'steel_plate_recipe',
    name: 'Steel Plate Recipe',
    profession: 'blacksmith',
    level: 8,
    materials: { iron_ore: 54, coal: 24, granite: 12 },
    output: { item: 'steel_plate', quantity: 1 },
    craftTime: 10,
  },
  steel_greaves_recipe: {
    id: 'steel_greaves_recipe',
    name: 'Steel Greaves Recipe',
    profession: 'blacksmith',
    level: 8,
    materials: { iron_ore: 45, coal: 18, granite: 9 },
    output: { item: 'steel_greaves', quantity: 1 },
    craftTime: 9,
  },
  steel_boots_recipe: {
    id: 'steel_boots_recipe',
    name: 'Steel Boots Recipe',
    profession: 'blacksmith',
    level: 7,
    materials: { iron_ore: 33, coal: 12, granite: 6 },
    output: { item: 'steel_boots', quantity: 1 },
    craftTime: 7,
  },
  mithril_helm_recipe: {
    id: 'mithril_helm_recipe',
    name: 'Mithril Helm Recipe',
    profession: 'blacksmith',
    level: 11,
    materials: { mithril_ore: 40, adamantite: 15, mana_crystal: 10 },
    output: { item: 'mithril_helm', quantity: 1 },
    craftTime: 9,
  },
  mithril_boots_recipe: {
    id: 'mithril_boots_recipe',
    name: 'Mithril Boots Recipe',
    profession: 'blacksmith',
    level: 11,
    materials: { mithril_ore: 30, adamantite: 10, dragonhide: 10, mana_crystal: 5 },
    output: { item: 'mithril_boots', quantity: 1 },
    craftTime: 9,
  },
  mithril_greaves_recipe: {
    id: 'mithril_greaves_recipe',
    name: 'Mithril Greaves Recipe',
    profession: 'blacksmith',
    level: 11,
    materials: { mithril_ore: 35, adamantite: 12, dragonhide: 8, mana_crystal: 8 },
    output: { item: 'mithril_greaves', quantity: 1 },
    craftTime: 10,
  },
  // POTIONS - TIER 1 (BASIC) - Everyone can craft
  xp_potion_t1: { id: 'xp_potion_t1', name: 'Basic XP Potion', profession: 'botanic', level: 1, tier: 1, requiresProfession: false, materials: { herb: 2, wood: 1 }, output: { item: 'xp_potion_t1', quantity: 3 }, craftTime: 2 },
  gold_potion_t1: { id: 'gold_potion_t1', name: 'Basic Gold Potion', profession: 'botanic', level: 1, tier: 1, requiresProfession: false, materials: { herb: 2, copper_ore: 1 }, output: { item: 'gold_potion_t1', quantity: 3 }, craftTime: 2 },
  health_potion_t1: { id: 'health_potion_t1', name: 'Basic Health Potion', profession: 'botanic', level: 1, tier: 1, requiresProfession: false, materials: { herb: 2, water: 1 }, output: { item: 'health_potion_t1', quantity: 4 }, craftTime: 2 },
  gathering_potion_t1: { id: 'gathering_potion_t1', name: 'Basic Gathering Potion', profession: 'botanic', level: 1, tier: 1, requiresProfession: false, materials: { herb: 2, iron_ore: 1 }, output: { item: 'gathering_potion_t1', quantity: 3 }, craftTime: 2 },
  loot_potion_t1: { id: 'loot_potion_t1', name: 'Basic Loot Potion', profession: 'botanic', level: 1, tier: 1, requiresProfession: false, materials: { herb: 2, coal: 1 }, output: { item: 'loot_potion_t1', quantity: 3 }, craftTime: 2 },
  // POTIONS - TIER 2 (UNCOMMON) - Everyone can craft
  xp_potion_t2: { id: 'xp_potion_t2', name: 'Uncommon XP Potion', profession: 'botanic', level: 3, tier: 2, requiresProfession: false, materials: { herb: 4, granite: 1, water: 1 }, output: { item: 'xp_potion_t2', quantity: 4 }, craftTime: 3 },
  gold_potion_t2: { id: 'gold_potion_t2', name: 'Uncommon Gold Potion', profession: 'botanic', level: 3, tier: 2, requiresProfession: false, materials: { herb: 4, lumber: 1, copper_ore: 1 }, output: { item: 'gold_potion_t2', quantity: 4 }, craftTime: 3 },
  health_potion_t2: { id: 'health_potion_t2', name: 'Uncommon Health Potion', profession: 'botanic', level: 3, tier: 2, requiresProfession: false, materials: { herb: 4, mana_crystal: 1, water: 1 }, output: { item: 'health_potion_t2', quantity: 5 }, craftTime: 3 },
  gathering_potion_t2: { id: 'gathering_potion_t2', name: 'Uncommon Gathering Potion', profession: 'botanic', level: 3, tier: 2, requiresProfession: false, materials: { granite: 2, wood: 1, herb: 1 }, output: { item: 'gathering_potion_t2', quantity: 4 }, craftTime: 3 },
  loot_potion_t2: { id: 'loot_potion_t2', name: 'Uncommon Loot Potion', profession: 'botanic', level: 3, tier: 2, requiresProfession: false, materials: { rare_flower: 1, water: 2 }, output: { item: 'loot_potion_t2', quantity: 4 }, craftTime: 3 },
  // POTIONS - TIER 3 (RARE) - Requires BOTANIC profession
  xp_potion_t3: { id: 'xp_potion_t3', name: 'Rare XP Potion', profession: 'botanic', level: 6, tier: 3, requiresProfession: true, materials: { rare_flower: 1, mana_crystal: 1, herb: 2 }, output: { item: 'xp_potion_t3', quantity: 4 }, craftTime: 4 },
  gold_potion_t3: { id: 'gold_potion_t3', name: 'Rare Gold Potion', profession: 'botanic', level: 6, tier: 3, requiresProfession: true, materials: { rare_flower: 1, adamantite: 1, herb: 2 }, output: { item: 'gold_potion_t3', quantity: 4 }, craftTime: 4 },
  health_potion_t3: { id: 'health_potion_t3', name: 'Rare Health Potion', profession: 'botanic', level: 6, tier: 3, requiresProfession: true, materials: { mana_crystal: 1, herb: 3, water: 2 }, output: { item: 'health_potion_t3', quantity: 5 }, craftTime: 4 },
  gathering_potion_t3: { id: 'gathering_potion_t3', name: 'Rare Gathering Potion', profession: 'botanic', level: 6, tier: 3, requiresProfession: true, materials: { mithril_ore: 1, wood: 2, herb: 1 }, output: { item: 'gathering_potion_t3', quantity: 4 }, craftTime: 4 },
  loot_potion_t3: { id: 'loot_potion_t3', name: 'Rare Loot Potion', profession: 'botanic', level: 6, tier: 3, requiresProfession: true, materials: { rare_flower: 1, arcane_essence: 1, water: 1 }, output: { item: 'loot_potion_t3', quantity: 4 }, craftTime: 4 },
  // POTIONS - TIER 4 (EPIC) - Requires BOTANIC profession
  xp_potion_t4: { id: 'xp_potion_t4', name: 'Epic XP Potion', profession: 'botanic', level: 12, tier: 4, requiresProfession: true, materials: { arcane_essence: 1, moonflower: 1, mana_crystal: 1 }, output: { item: 'xp_potion_t4', quantity: 3 }, craftTime: 5 },
  gold_potion_t4: { id: 'gold_potion_t4', name: 'Epic Gold Potion', profession: 'botanic', level: 12, tier: 4, requiresProfession: true, materials: { adamantite: 1, moonflower: 1, mana_crystal: 1 }, output: { item: 'gold_potion_t4', quantity: 3 }, craftTime: 5 },
  health_potion_t4: { id: 'health_potion_t4', name: 'Epic Health Potion', profession: 'botanic', level: 12, tier: 4, requiresProfession: true, materials: { arcane_essence: 1, dragonhide: 1, mana_crystal: 1 }, output: { item: 'health_potion_t4', quantity: 4 }, craftTime: 5 },
  gathering_potion_t4: { id: 'gathering_potion_t4', name: 'Epic Gathering Potion', profession: 'botanic', level: 12, tier: 4, requiresProfession: true, materials: { moonflower: 1, mithril_ore: 1, hardwood: 1 }, output: { item: 'gathering_potion_t4', quantity: 3 }, craftTime: 5 },
  loot_potion_t4: { id: 'loot_potion_t4', name: 'Epic Loot Potion', profession: 'botanic', level: 12, tier: 4, requiresProfession: true, materials: { moonflower: 1, arcane_essence: 1, mana_crystal: 1 }, output: { item: 'loot_potion_t4', quantity: 3 }, craftTime: 5 },
  // POTIONS - TIER 5 (LEGENDARY) - Requires BOTANIC profession
  xp_potion_t5: { id: 'xp_potion_t5', name: 'Legendary XP Potion', profession: 'botanic', level: 21, tier: 5, requiresProfession: true, materials: { phoenix_feather: 1, arcane_essence: 1, dragonstone: 1 }, output: { item: 'xp_potion_t5', quantity: 2 }, craftTime: 6 },
  gold_potion_t5: { id: 'gold_potion_t5', name: 'Legendary Gold Potion', profession: 'botanic', level: 21, tier: 5, requiresProfession: true, materials: { phoenix_feather: 1, adamantite: 1, dragonstone: 1 }, output: { item: 'gold_potion_t5', quantity: 2 }, craftTime: 6 },
  health_potion_t5: { id: 'health_potion_t5', name: 'Legendary Health Potion', profession: 'botanic', level: 21, tier: 5, requiresProfession: true, materials: { phoenix_feather: 1, dragonhide: 1, arcane_essence: 1 }, output: { item: 'health_potion_t5', quantity: 3 }, craftTime: 6 },
  gathering_potion_t5: { id: 'gathering_potion_t5', name: 'Legendary Gathering Potion', profession: 'botanic', level: 21, tier: 5, requiresProfession: true, materials: { phoenix_feather: 1, dragonstone: 1, hardwood: 1 }, output: { item: 'gathering_potion_t5', quantity: 2 }, craftTime: 6 },
  loot_potion_t5: { id: 'loot_potion_t5', name: 'Legendary Loot Potion', profession: 'botanic', level: 21, tier: 5, requiresProfession: true, materials: { phoenix_feather: 1, dragonstone: 1, arcane_essence: 1 }, output: { item: 'loot_potion_t5', quantity: 2 }, craftTime: 6 },
  
  // ENCHANTS - TIER 1 (BASIC) - Everyone can craft
  damage_enchant_t1: { id: 'damage_enchant_t1', name: 'Basic Damage Enchant', profession: 'enchanter', level: 1, tier: 1, requiresProfession: false, materials: { mana_crystal: 1, wood: 1 }, output: { item: 'damage_enchant_t1', quantity: 1 }, craftTime: 2 },
  xp_enchant_t1: { id: 'xp_enchant_t1', name: 'Basic XP Enchant', profession: 'enchanter', level: 1, tier: 1, requiresProfession: false, materials: { mana_crystal: 1, herb: 1 }, output: { item: 'xp_enchant_t1', quantity: 1 }, craftTime: 2 },
  loot_enchant_t1: { id: 'loot_enchant_t1', name: 'Basic Loot Enchant', profession: 'enchanter', level: 1, tier: 1, requiresProfession: false, materials: { wood: 2, herb: 1 }, output: { item: 'loot_enchant_t1', quantity: 1 }, craftTime: 2 },
  doublehit_enchant_t1: { id: 'doublehit_enchant_t1', name: 'Basic Double Hit Enchant', profession: 'enchanter', level: 1, tier: 1, requiresProfession: false, materials: { mana_crystal: 1, water: 1 }, output: { item: 'doublehit_enchant_t1', quantity: 1 }, craftTime: 2 },
  
  // ENCHANTS - TIER 2 (UNCOMMON) - Everyone can craft
  damage_enchant_t2: { id: 'damage_enchant_t2', name: 'Uncommon Damage Enchant', profession: 'enchanter', level: 3, tier: 2, requiresProfession: false, materials: { mana_crystal: 2, granite: 1 }, output: { item: 'damage_enchant_t2', quantity: 1 }, craftTime: 3 },
  xp_enchant_t2: { id: 'xp_enchant_t2', name: 'Uncommon XP Enchant', profession: 'enchanter', level: 3, tier: 2, requiresProfession: false, materials: { rare_flower: 1, water: 1 }, output: { item: 'xp_enchant_t2', quantity: 1 }, craftTime: 3 },
  loot_enchant_t2: { id: 'loot_enchant_t2', name: 'Uncommon Loot Enchant', profession: 'enchanter', level: 3, tier: 2, requiresProfession: false, materials: { lumber: 1, rare_flower: 1 }, output: { item: 'loot_enchant_t2', quantity: 1 }, craftTime: 3 },
  doublehit_enchant_t2: { id: 'doublehit_enchant_t2', name: 'Uncommon Double Hit Enchant', profession: 'enchanter', level: 3, tier: 2, requiresProfession: false, materials: { mana_crystal: 2, mithril_ore: 1 }, output: { item: 'doublehit_enchant_t2', quantity: 1 }, craftTime: 3 },
  
  // ENCHANTS - TIER 3 (RARE) - Requires ENCHANTER profession
  damage_enchant_t3: { id: 'damage_enchant_t3', name: 'Rare Damage Enchant', profession: 'enchanter', level: 6, tier: 3, requiresProfession: true, materials: { mithril_ore: 1, mana_crystal: 1 }, output: { item: 'damage_enchant_t3', quantity: 1 }, craftTime: 4 },
  xp_enchant_t3: { id: 'xp_enchant_t3', name: 'Rare XP Enchant', profession: 'enchanter', level: 6, tier: 3, requiresProfession: true, materials: { rare_flower: 1, mana_crystal: 1, arcane_essence: 1 }, output: { item: 'xp_enchant_t3', quantity: 1 }, craftTime: 4 },
  loot_enchant_t3: { id: 'loot_enchant_t3', name: 'Rare Loot Enchant', profession: 'enchanter', level: 6, tier: 3, requiresProfession: true, materials: { rare_flower: 1, mystic_bark: 1 }, output: { item: 'loot_enchant_t3', quantity: 1 }, craftTime: 4 },
  doublehit_enchant_t3: { id: 'doublehit_enchant_t3', name: 'Rare Double Hit Enchant', profession: 'enchanter', level: 6, tier: 3, requiresProfession: true, materials: { rare_flower: 1, mithril_ore: 1 }, output: { item: 'doublehit_enchant_t3', quantity: 1 }, craftTime: 4 },
  
  // ENCHANTS - TIER 4 (EPIC) - Requires ENCHANTER profession
  damage_enchant_t4: { id: 'damage_enchant_t4', name: 'Epic Damage Enchant', profession: 'enchanter', level: 12, tier: 4, requiresProfession: true, materials: { arcane_essence: 1, adamantite: 1 }, output: { item: 'damage_enchant_t4', quantity: 1 }, craftTime: 5 },
  xp_enchant_t4: { id: 'xp_enchant_t4', name: 'Epic XP Enchant', profession: 'enchanter', level: 12, tier: 4, requiresProfession: true, materials: { moonflower: 1, arcane_essence: 1 }, output: { item: 'xp_enchant_t4', quantity: 1 }, craftTime: 5 },
  loot_enchant_t4: { id: 'loot_enchant_t4', name: 'Epic Loot Enchant', profession: 'enchanter', level: 12, tier: 4, requiresProfession: true, materials: { moonflower: 1, dragonhide: 1 }, output: { item: 'loot_enchant_t4', quantity: 1 }, craftTime: 5 },
  doublehit_enchant_t4: { id: 'doublehit_enchant_t4', name: 'Epic Double Hit Enchant', profession: 'enchanter', level: 12, tier: 4, requiresProfession: true, materials: { arcane_essence: 1, mithril_ore: 1 }, output: { item: 'doublehit_enchant_t4', quantity: 1 }, craftTime: 5 },
  
  // ENCHANTS - TIER 5 (LEGENDARY) - Requires ENCHANTER profession
  damage_enchant_t5: { id: 'damage_enchant_t5', name: 'Legendary Damage Enchant', profession: 'enchanter', level: 21, tier: 5, requiresProfession: true, materials: { phoenix_feather: 1, dragonstone: 1 }, output: { item: 'damage_enchant_t5', quantity: 1 }, craftTime: 6 },
  xp_enchant_t5: { id: 'xp_enchant_t5', name: 'Legendary XP Enchant', profession: 'enchanter', level: 21, tier: 5, requiresProfession: true, materials: { phoenix_feather: 1, arcane_essence: 1 }, output: { item: 'xp_enchant_t5', quantity: 1 }, craftTime: 6 },
  loot_enchant_t5: { id: 'loot_enchant_t5', name: 'Legendary Loot Enchant', profession: 'enchanter', level: 21, tier: 5, requiresProfession: true, materials: { phoenix_feather: 1, dragonstone: 1 }, output: { item: 'loot_enchant_t5', quantity: 1 }, craftTime: 6 },
  doublehit_enchant_t5: { id: 'doublehit_enchant_t5', name: 'Legendary Double Hit Enchant', profession: 'enchanter', level: 21, tier: 5, requiresProfession: true, materials: { phoenix_feather: 1, adamantite: 1 }, output: { item: 'doublehit_enchant_t5', quantity: 1 }, craftTime: 6 },
  
  // ENCHANTS - BOSS DAMAGE (NEW - For guild boss fights)
  boss_damage_enchant_t1: { id: 'boss_damage_enchant_t1', name: 'Basic Boss Damage Enchant', profession: 'enchanter', level: 3, tier: 1, requiresProfession: false, materials: { mana_crystal: 1, granite: 1 }, output: { item: 'boss_damage_enchant_t1', quantity: 1 }, craftTime: 2 },
  boss_damage_enchant_t2: { id: 'boss_damage_enchant_t2', name: 'Uncommon Boss Damage Enchant', profession: 'enchanter', level: 6, tier: 2, requiresProfession: false, materials: { mana_crystal: 2, mithril_ore: 1 }, output: { item: 'boss_damage_enchant_t2', quantity: 1 }, craftTime: 3 },
  boss_damage_enchant_t3: { id: 'boss_damage_enchant_t3', name: 'Rare Boss Damage Enchant', profession: 'enchanter', level: 9, tier: 3, requiresProfession: true, materials: { arcane_essence: 1, mithril_ore: 1 }, output: { item: 'boss_damage_enchant_t3', quantity: 1 }, craftTime: 4 },
  boss_damage_enchant_t4: { id: 'boss_damage_enchant_t4', name: 'Epic Boss Damage Enchant', profession: 'enchanter', level: 15, tier: 4, requiresProfession: true, materials: { arcane_essence: 2, adamantite: 1 }, output: { item: 'boss_damage_enchant_t4', quantity: 1 }, craftTime: 5 },
  boss_damage_enchant_t5: { id: 'boss_damage_enchant_t5', name: 'Legendary Boss Damage Enchant', profession: 'enchanter', level: 21, tier: 5, requiresProfession: true, materials: { phoenix_feather: 1, dragonstone: 1, adamantite: 2 }, output: { item: 'boss_damage_enchant_t5', quantity: 1 }, craftTime: 6 },
  
  // Class-exclusive recipes
  warrior_greatsword_recipe: {
    id: 'warrior_greatsword_recipe',
    name: 'Warrior\'s Greatsword Recipe',
    profession: 'blacksmith',
    level: 12,
    classRestriction: 'warrior',
    materials: { mithril_ore: 60, adamantite: 25, phoenix_feather: 10 },
    output: { item: 'warrior_greatsword', quantity: 1 },
    craftTime: 20,
  },
  warrior_plate_recipe: {
    id: 'warrior_plate_recipe',
    name: 'Warrior\'s Plate Armor Recipe',
    profession: 'blacksmith',
    level: 13,
    classRestriction: 'warrior',
    materials: { dragonhide: 40, adamantite: 30, mithril_ore: 40 },
    output: { item: 'warrior_plate', quantity: 1 },
    craftTime: 25,
  },
  mage_staff_recipe: {
    id: 'mage_staff_recipe',
    name: 'Mage\'s Staff Recipe',
    profession: 'blacksmith',
    level: 12,
    classRestriction: 'mage',
    materials: { hardwood: 25, mystic_bark: 15, arcane_essence: 20 },
    output: { item: 'mage_staff', quantity: 1 },
    craftTime: 20,
  },
  mage_robes_recipe: {
    id: 'mage_robes_recipe',
    name: 'Mage\'s Robes Recipe',
    profession: 'blacksmith',
    level: 13,
    classRestriction: 'mage',
    materials: { moonflower: 20, arcane_essence: 25, mystic_bark: 30 },
    output: { item: 'mage_robes', quantity: 1 },
    craftTime: 18,
  },
  rogue_daggers_recipe: {
    id: 'rogue_daggers_recipe',
    name: 'Rogue\'s Dual Daggers Recipe',
    profession: 'blacksmith',
    level: 12,
    classRestriction: 'rogue',
    materials: { mithril_ore: 30, adamantite: 20, dragonstone: 10 },
    output: { item: 'rogue_daggers', quantity: 1 },
    craftTime: 16,
  },
  rogue_leathers_recipe: {
    id: 'rogue_leathers_recipe',
    name: 'Rogue\'s Leathers Recipe',
    profession: 'blacksmith',
    level: 12,
    classRestriction: 'rogue',
    materials: { dragonhide: 25, hardwood: 15, phoenix_feather: 10 },
    output: { item: 'rogue_leathers', quantity: 1 },
    craftTime: 14,
  },
  ranger_bow_recipe: {
    id: 'ranger_bow_recipe',
    name: 'Ranger\'s Bow Recipe',
    profession: 'blacksmith',
    level: 11,
    classRestriction: 'ranger',
    materials: { hardwood: 20, mithril_ore: 20, phoenix_feather: 15 },
    output: { item: 'ranger_bow', quantity: 1 },
    craftTime: 18,
  },
  ranger_armor_recipe: {
    id: 'ranger_armor_recipe',
    name: 'Ranger\'s Armor Recipe',
    profession: 'blacksmith',
    level: 11,
    classRestriction: 'ranger',
    materials: { leather: 40, dragonhide: 20, hardwood: 10 },
    output: { item: 'ranger_armor', quantity: 1 },
    craftTime: 16,
  },
  paladin_hammer_recipe: {
    id: 'paladin_hammer_recipe',
    name: 'Paladin\'s Hammer Recipe',
    profession: 'blacksmith',
    level: 13,
    classRestriction: 'paladin',
    materials: { adamantite: 40, dragonstone: 15, mana_crystal: 15 },
    output: { item: 'paladin_hammer', quantity: 1 },
    craftTime: 22,
  },
  paladin_shield_recipe: {
    id: 'paladin_shield_recipe',
    name: 'Paladin\'s Divine Shield Recipe',
    profession: 'blacksmith',
    level: 12,
    classRestriction: 'paladin',
    materials: { adamantite: 30, dragonhide: 20, mithril_ore: 25 },
    output: { item: 'paladin_shield', quantity: 1 },
    craftTime: 20,
  },
  // Early game weapons (Level 1-17)
  apprentice_sword_recipe: {
    id: 'apprentice_sword_recipe',
    name: 'Apprentice Sword Recipe',
    profession: 'blacksmith',
    level: 1,
    classRestriction: 'warrior',
    materials: { iron_ore: 24, ash_wood: 9 },
    output: { item: 'apprentice_sword', quantity: 1 },
    craftTime: 3,
  },
  novice_wand_recipe: {
    id: 'novice_wand_recipe',
    name: 'Novice Wand Recipe',
    profession: 'blacksmith',
    level: 1,
    classRestriction: 'mage',
    materials: { ash_wood: 30, wild_herbs: 6 },
    output: { item: 'novice_wand', quantity: 1 },
    craftTime: 3,
  },
  rusty_dagger_recipe: {
    id: 'rusty_dagger_recipe',
    name: 'Rusty Dagger Recipe',
    profession: 'blacksmith',
    level: 1,
    classRestriction: 'rogue',
    materials: { iron_ore: 15, beast_hide: 9 },
    output: { item: 'rusty_dagger', quantity: 1 },
    craftTime: 3,
  },
  wooden_mace_recipe: {
    id: 'wooden_mace_recipe',
    name: 'Wooden Mace Recipe',
    profession: 'blacksmith',
    level: 1,
    classRestriction: 'paladin',
    materials: { ash_wood: 24, iron_ore: 6 },
    output: { item: 'wooden_mace', quantity: 1 },
    craftTime: 3,
  },
  holy_sword_recipe: {
    id: 'holy_sword_recipe',
    name: 'Holy Sword Recipe',
    profession: 'blacksmith',
    level: 1,
    classRestriction: 'paladin',
    materials: { iron_ore: 24, ash_wood: 9 },
    output: { item: 'holy_sword', quantity: 1 },
    craftTime: 3,
  },
  iron_cleaver_recipe: {
    id: 'iron_cleaver_recipe',
    name: 'Iron Cleaver Recipe',
    profession: 'blacksmith',
    level: 8,
    classRestriction: 'warrior',
    materials: { iron_ore: 45, pine_wood: 12, beast_hide: 6 },
    output: { item: 'iron_cleaver', quantity: 1 },
    craftTime: 6,
  },
  crystal_wand_recipe: {
    id: 'crystal_wand_recipe',
    name: 'Crystal Wand Recipe',
    profession: 'blacksmith',
    level: 8,
    classRestriction: 'mage',
    materials: { pine_wood: 30, medicinal_herbs: 9, iron_ore: 6 },
    output: { item: 'crystal_wand', quantity: 1 },
    craftTime: 6,
  },
  steel_dirk_recipe: {
    id: 'steel_dirk_recipe',
    name: 'Steel Dirk Recipe',
    profession: 'blacksmith',
    level: 8,
    classRestriction: 'rogue',
    materials: { iron_ore: 36, tough_hide: 9, beast_bone: 6 },
    output: { item: 'steel_dirk', quantity: 1 },
    craftTime: 6,
  },
  blessed_mace_recipe: {
    id: 'blessed_mace_recipe',
    name: 'Blessed Mace Recipe',
    profession: 'blacksmith',
    level: 8,
    classRestriction: 'paladin',
    materials: { iron_ore: 42, medicinal_herbs: 12, ash_wood: 9 },
    output: { item: 'blessed_mace', quantity: 1 },
    craftTime: 6,
  },
  blessed_longsword_recipe: {
    id: 'blessed_longsword_recipe',
    name: 'Blessed Longsword Recipe',
    profession: 'blacksmith',
    level: 8,
    classRestriction: 'paladin',
    materials: { iron_ore: 45, pine_wood: 12, medicinal_herbs: 6 },
    output: { item: 'blessed_longsword', quantity: 1 },
    craftTime: 6,
  },
  battle_axe_recipe: {
    id: 'battle_axe_recipe',
    name: 'Battle Axe Recipe',
    profession: 'blacksmith',
    level: 13,
    classRestriction: 'warrior',
    materials: { mithril_ore: 25, hardwood: 20, beast_bone: 10 },
    output: { item: 'battle_axe', quantity: 1 },
    craftTime: 9,
  },
  sage_staff_recipe: {
    id: 'sage_staff_recipe',
    name: 'Sage Staff Recipe',
    profession: 'blacksmith',
    level: 13,
    classRestriction: 'mage',
    materials: { mithril_ore: 20, medicinal_herbs: 20, arcane_essence: 10 },
    output: { item: 'sage_staff', quantity: 1 },
    craftTime: 9,
  },
  shadow_blade_recipe: {
    id: 'shadow_blade_recipe',
    name: 'Shadow Blade Recipe',
    profession: 'blacksmith',
    level: 13,
    classRestriction: 'rogue',
    materials: { mithril_ore: 20, tough_hide: 15, beast_bone: 10 },
    output: { item: 'shadow_blade', quantity: 1 },
    craftTime: 9,
  },
  holy_hammer_recipe: {
    id: 'holy_hammer_recipe',
    name: 'Holy Hammer Recipe',
    profession: 'blacksmith',
    level: 13,
    classRestriction: 'paladin',
    materials: { mithril_ore: 25, medicinal_herbs: 15, mystic_bark: 10 },
    output: { item: 'holy_hammer', quantity: 1 },
    craftTime: 9,
  },
  sacred_blade_recipe: {
    id: 'sacred_blade_recipe',
    name: 'Sacred Blade Recipe',
    profession: 'blacksmith',
    level: 13,
    classRestriction: 'paladin',
    materials: { mithril_ore: 25, hardwood: 20, medicinal_herbs: 10 },
    output: { item: 'sacred_blade', quantity: 1 },
    craftTime: 9,
  },
  // Intermediate Norse/Greek weapons (Level 18-28)
  odin_blade_recipe: {
    id: 'odin_blade_recipe',
    name: 'Odin\'s Blade Recipe',
    profession: 'blacksmith',
    level: 18,
    classRestriction: 'warrior',
    materials: { mithril_ore: 30, ancient_fang: 10, tough_hide: 15 },
    output: { item: 'odin_blade', quantity: 1 },
    craftTime: 12,
  },
  thor_axe_junior_recipe: {
    id: 'thor_axe_junior_recipe',
    name: 'Mjolnir\'s Echo Recipe',
    profession: 'blacksmith',
    level: 25,
    classRestriction: 'warrior',
    materials: { mithril_ore: 75, storm_touched_wood: 15, ancient_fang: 10 },
    output: { item: 'thor_axe_junior', quantity: 1 },
    craftTime: 20,
  },
  hermes_staff_recipe: {
    id: 'hermes_staff_recipe',
    name: 'Hermes\' Staff Recipe',
    profession: 'blacksmith',
    level: 18,
    classRestriction: 'mage',
    materials: { ancient_wood: 40, golden_lotus: 15, mithril_ore: 10 },
    output: { item: 'hermes_staff', quantity: 1 },
    craftTime: 11,
  },
  athena_staff_junior_recipe: {
    id: 'athena_staff_junior_recipe',
    name: 'Athena\'s Wisdom Staff Recipe',
    profession: 'blacksmith',
    level: 26,
    classRestriction: 'mage',
    materials: { storm_touched_wood: 25, golden_lotus: 20, sacred_herbs: 15 },
    output: { item: 'athena_staff_junior', quantity: 1 },
    craftTime: 19,
  },
  fenrir_daggers_recipe: {
    id: 'fenrir_daggers_recipe',
    name: 'Fenrir\'s Fangs Recipe',
    profession: 'blacksmith',
    level: 17,
    classRestriction: 'rogue',
    materials: { mithril_ore: 25, ancient_fang: 15, beast_bone: 20 },
    output: { item: 'fenrir_daggers', quantity: 1 },
    craftTime: 10,
  },
  hermes_daggers_recipe: {
    id: 'hermes_daggers_recipe',
    name: 'Hermes\' Swift Blades Recipe',
    profession: 'blacksmith',
    level: 24,
    classRestriction: 'rogue',
    materials: { mithril_ore: 60, ancient_fang: 20, stormhide: 10 },
    output: { item: 'hermes_daggers', quantity: 1 },
    craftTime: 18,
  },
  heimdall_mace_recipe: {
    id: 'heimdall_mace_recipe',
    name: 'Heimdall\'s Mace Recipe',
    profession: 'blacksmith',
    level: 19,
    classRestriction: 'paladin',
    materials: { mithril_ore: 40, blessed_hide: 15, sacred_herbs: 10 },
    output: { item: 'heimdall_mace', quantity: 1 },
    craftTime: 13,
  },
  zeus_hammer_junior_recipe: {
    id: 'zeus_hammer_junior_recipe',
    name: 'Zeus\' Judgement Recipe',
    profession: 'blacksmith',
    level: 27,
    classRestriction: 'paladin',
    materials: { mithril_ore: 75, storm_touched_wood: 20, golden_lotus: 15 },
    output: { item: 'zeus_hammer_junior', quantity: 1 },
    craftTime: 22,
  },
  paladin_holy_blade_recipe: {
    id: 'paladin_holy_blade_recipe',
    name: 'Paladin\'s Holy Blade Recipe',
    profession: 'blacksmith',
    level: 26,
    classRestriction: 'paladin',
    materials: { world_essence_ore: 10, divine_wood: 20, 'godbeast-hide': 5, sacred_herbs: 15 },
    output: { item: 'paladin_holy_blade', quantity: 1 },
    craftTime: 20,
  },
  // Mythic class weapons (Level 34+)
  tyr_warblade_recipe: {
    id: 'tyr_warblade_recipe',
    name: 'Tyr\'s Warblade Recipe',
    profession: 'blacksmith',
    level: 35,
    classRestriction: 'warrior',
    materials: { world_essence_ore: 25, divine_wood: 15, fatebound_fang: 10 },
    output: { item: 'tyr_warblade', quantity: 1 },
    craftTime: 28,
  },
  apollo_sunstaff_recipe: {
    id: 'apollo_sunstaff_recipe',
    name: 'Apollo\'s Sunstaff Recipe',
    profession: 'blacksmith',
    level: 35,
    classRestriction: 'mage',
    materials: { divine_wood: 20, ambrosia_bloom: 15, sacred_herbs: 25 },
    output: { item: 'apollo_sunstaff', quantity: 1 },
    craftTime: 26,
  },
  loki_shadowblades_recipe: {
    id: 'loki_shadowblades_recipe',
    name: 'Loki\'s Shadowblades Recipe',
    profession: 'blacksmith',
    level: 34,
    classRestriction: 'rogue',
    materials: { world_essence_ore: 20, fatebound_fang: 15, stormhide: 15 },
    output: { item: 'loki_shadowblades', quantity: 1 },
    craftTime: 24,
  },
  aegis_hammer_recipe: {
    id: 'aegis_hammer_recipe',
    name: 'Aegis Hammer Recipe',
    profession: 'blacksmith',
    level: 36,
    classRestriction: 'paladin',
    materials: { world_essence_ore: 25, 'godbeast-hide': 15, ambrosia_bloom: 10 },
    output: { item: 'aegis_hammer', quantity: 1 },
    craftTime: 30,
  },
  starter_sword_recipe: {
    id: 'starter_sword_recipe',
    name: 'Bronze Sword Recipe',
    profession: 'blacksmith',
    level: 1,
    materials: { iron_ore: 9, coal: 3 },
    output: { item: 'bronze_sword', quantity: 1 },
    craftTime: 2,
  },
  leather_armor_recipe: {
    id: 'leather_armor_recipe',
    name: 'Leather Armor Recipe',
    profession: 'blacksmith',
    level: 1,
    materials: { leather: 12, herb: 6 },
    output: { item: 'leather_armor', quantity: 1 },
    craftTime: 2,
  },
  sword_recipe: {
    id: 'sword_recipe',
    name: 'Iron Sword Recipe',
    profession: 'blacksmith',
    level: 3,
    materials: { iron_ore: 24, coal: 12 },
    output: { item: 'iron_greatsword', quantity: 1 },
    craftTime: 5,
  },
  armor_recipe: {
    id: 'armor_recipe',
    name: 'Iron Plate Recipe',
    profession: 'blacksmith',
    level: 4,
    materials: { iron_ore: 36, coal: 18, leather: 6 },
    output: { item: 'iron_plate', quantity: 1 },
    craftTime: 8,
  },
  
  // Asgardian Tier (Level 28) - Epic Equipment
  asgardian_warblade_recipe: {
    id: 'asgardian_warblade_recipe',
    name: 'Asgardian Warblade Recipe',
    profession: 'blacksmith',
    level: 28,
    materials: { bifrost_metal: 40, asgardian_steel: 30, yggdrasil_bark: 15 },
    output: { item: 'asgardian_warblade', quantity: 1 },
    craftTime: 12,
  },
  asgardian_staff_recipe: {
    id: 'asgardian_staff_recipe',
    name: 'Asgardian Staff Recipe',
    profession: 'blacksmith',
    level: 28,
    materials: { bifrost_metal: 35, yggdrasil_bark: 35, asgardian_steel: 20 },
    output: { item: 'asgardian_staff', quantity: 1 },
    craftTime: 12,
  },
  asgardian_daggers_recipe: {
    id: 'asgardian_daggers_recipe',
    name: 'Asgardian Daggers Recipe',
    profession: 'blacksmith',
    level: 28,
    materials: { bifrost_metal: 35, asgardian_steel: 30, yggdrasil_bark: 20 },
    output: { item: 'asgardian_daggers', quantity: 1 },
    craftTime: 12,
  },
  asgardian_hammer_recipe: {
    id: 'asgardian_hammer_recipe',
    name: 'Asgardian Hammer Recipe',
    profession: 'blacksmith',
    level: 28,
    materials: { bifrost_metal: 45, asgardian_steel: 35, yggdrasil_bark: 10 },
    output: { item: 'asgardian_hammer', quantity: 1 },
    craftTime: 12,
  },
  asgardian_plate_recipe: {
    id: 'asgardian_plate_recipe',
    name: 'Asgardian Plate Armor Recipe',
    profession: 'blacksmith',
    level: 28,
    materials: { bifrost_metal: 50, asgardian_steel: 40, leather: 15 },
    output: { item: 'asgardian_plate', quantity: 1 },
    craftTime: 14,
  },
  asgardian_helm_recipe: {
    id: 'asgardian_helm_recipe',
    name: 'Asgardian War Helm Recipe',
    profession: 'blacksmith',
    level: 28,
    materials: { bifrost_metal: 35, asgardian_steel: 25, leather: 10 },
    output: { item: 'asgardian_helm', quantity: 1 },
    craftTime: 10,
  },
  asgardian_greaves_recipe: {
    id: 'asgardian_greaves_recipe',
    name: 'Asgardian Greaves Recipe',
    profession: 'blacksmith',
    level: 28,
    materials: { bifrost_metal: 40, asgardian_steel: 30, leather: 12 },
    output: { item: 'asgardian_greaves', quantity: 1 },
    craftTime: 12,
  },
  asgardian_boots_recipe: {
    id: 'asgardian_boots_recipe',
    name: 'Asgardian War Boots Recipe',
    profession: 'blacksmith',
    level: 28,
    materials: { bifrost_metal: 25, asgardian_steel: 20, leather: 15 },
    output: { item: 'asgardian_boots', quantity: 1 },
    craftTime: 8,
  },
  asgardian_gauntlets_recipe: {
    id: 'asgardian_gauntlets_recipe',
    name: 'Asgardian Gauntlets Recipe',
    profession: 'blacksmith',
    level: 28,
    materials: { bifrost_metal: 30, asgardian_steel: 22, leather: 12 },
    output: { item: 'asgardian_gauntlets', quantity: 1 },
    craftTime: 10,
  },
  
  // Level 70 Tier (blacksmith 30) - Epic Equipment
  godforged_blade_recipe: {
    id: 'godforged_blade_recipe',
    name: 'Godforged Battle Blade Recipe',
    profession: 'blacksmith',
    level: 30,
    materials: { bifrost_metal: 48, asgardian_steel: 38, yggdrasil_bark: 18, dragonstone: 1 },
    output: { item: 'godforged_blade', quantity: 1 },
    craftTime: 14,
  },
  ethereal_staff_recipe: {
    id: 'ethereal_staff_recipe',
    name: 'Ethereal Mind Staff Recipe',
    profession: 'blacksmith',
    level: 30,
    materials: { bifrost_metal: 43, yggdrasil_bark: 40, asgardian_steel: 28, dragonstone: 1 },
    output: { item: 'ethereal_staff', quantity: 1 },
    craftTime: 14,
  },
  phantom_knives_recipe: {
    id: 'phantom_knives_recipe',
    name: 'Phantom Strike Knives Recipe',
    profession: 'blacksmith',
    level: 30,
    materials: { bifrost_metal: 43, asgardian_steel: 38, yggdrasil_bark: 23, dragonstone: 1 },
    output: { item: 'phantom_knives', quantity: 1 },
    craftTime: 14,
  },
  blessed_maul_recipe: {
    id: 'blessed_maul_recipe',
    name: 'Blessed Titan Maul Recipe',
    profession: 'blacksmith',
    level: 30,
    materials: { bifrost_metal: 53, asgardian_steel: 43, yggdrasil_bark: 13, dragonstone: 1 },
    output: { item: 'blessed_maul', quantity: 1 },
    craftTime: 14,
  },
  
  // Valkyrie Tier (Level 32) - Epic Equipment
  valkyrie_spear_recipe: {
    id: 'valkyrie_spear_recipe',
    name: 'Valkyrie Spear Recipe',
    profession: 'blacksmith',
    level: 32,
    materials: { bifrost_metal: 55, asgardian_steel: 45, yggdrasil_bark: 20, dragonstone: 2 },
    output: { item: 'valkyrie_spear', quantity: 1 },
    craftTime: 15,
  },
  valkyrie_scepter_recipe: {
    id: 'valkyrie_scepter_recipe',
    name: 'Valkyrie Scepter Recipe',
    profession: 'blacksmith',
    level: 32,
    materials: { bifrost_metal: 50, yggdrasil_bark: 45, asgardian_steel: 35, dragonstone: 2 },
    output: { item: 'valkyrie_scepter', quantity: 1 },
    craftTime: 15,
  },
  valkyrie_blades_recipe: {
    id: 'valkyrie_blades_recipe',
    name: 'Valkyrie Blades Recipe',
    profession: 'blacksmith',
    level: 32,
    materials: { bifrost_metal: 50, asgardian_steel: 45, yggdrasil_bark: 25, dragonstone: 2 },
    output: { item: 'valkyrie_blades', quantity: 1 },
    craftTime: 15,
  },
  valkyrie_mace_recipe: {
    id: 'valkyrie_mace_recipe',
    name: 'Valkyrie Mace Recipe',
    profession: 'blacksmith',
    level: 32,
    materials: { bifrost_metal: 60, asgardian_steel: 50, yggdrasil_bark: 15, dragonstone: 2 },
    output: { item: 'valkyrie_mace', quantity: 1 },
    craftTime: 15,
  },
  valkyrie_plate_recipe: {
    id: 'valkyrie_plate_recipe',
    name: 'Valkyrie Divine Armor Recipe',
    profession: 'blacksmith',
    level: 32,
    materials: { bifrost_metal: 70, asgardian_steel: 55, dragonhide: 20, dragonstone: 3 },
    output: { item: 'valkyrie_plate', quantity: 1 },
    craftTime: 18,
  },
  valkyrie_helm_recipe: {
    id: 'valkyrie_helm_recipe',
    name: 'Valkyrie Winged Helm Recipe',
    profession: 'blacksmith',
    level: 32,
    materials: { bifrost_metal: 50, asgardian_steel: 40, dragonhide: 12, dragonstone: 2 },
    output: { item: 'valkyrie_helm', quantity: 1 },
    craftTime: 14,
  },
  valkyrie_greaves_recipe: {
    id: 'valkyrie_greaves_recipe',
    name: 'Valkyrie Legplates Recipe',
    profession: 'blacksmith',
    level: 32,
    materials: { bifrost_metal: 60, asgardian_steel: 45, dragonhide: 15, dragonstone: 2 },
    output: { item: 'valkyrie_greaves', quantity: 1 },
    craftTime: 16,
  },
  valkyrie_boots_recipe: {
    id: 'valkyrie_boots_recipe',
    name: 'Valkyrie Flight Boots Recipe',
    profession: 'blacksmith',
    level: 32,
    materials: { bifrost_metal: 40, asgardian_steel: 30, dragonhide: 18, dragonstone: 2 },
    output: { item: 'valkyrie_boots', quantity: 1 },
    craftTime: 12,
  },
  valkyrie_gauntlets_recipe: {
    id: 'valkyrie_gauntlets_recipe',
    name: 'Valkyrie Battle Gauntlets Recipe',
    profession: 'blacksmith',
    level: 32,
    materials: { bifrost_metal: 45, asgardian_steel: 35, dragonhide: 15, dragonstone: 2 },
    output: { item: 'valkyrie_gauntlets', quantity: 1 },
    craftTime: 14,
  },
  
  // Level 90 Tier (blacksmith 34) - Legendary Equipment
  stormbreaker_sword_recipe: {
    id: 'stormbreaker_sword_recipe',
    name: 'Stormbreaker Greatsword Recipe',
    profession: 'blacksmith',
    level: 34,
    materials: { bifrost_metal: 63, asgardian_steel: 53, yggdrasil_bark: 25, dragonstone: 3, adamantite: 4 },
    output: { item: 'stormbreaker_sword', quantity: 1 },
    craftTime: 17,
  },
  nebula_rod_recipe: {
    id: 'nebula_rod_recipe',
    name: 'Nebula Channeling Rod Recipe',
    profession: 'blacksmith',
    level: 34,
    materials: { bifrost_metal: 58, yggdrasil_bark: 58, asgardian_steel: 43, dragonstone: 3, mana_crystal: 10 },
    output: { item: 'nebula_rod', quantity: 1 },
    craftTime: 17,
  },
  twilight_fangs_recipe: {
    id: 'twilight_fangs_recipe',
    name: 'Twilight Reaper Fangs Recipe',
    profession: 'blacksmith',
    level: 34,
    materials: { bifrost_metal: 58, asgardian_steel: 53, yggdrasil_bark: 30, dragonstone: 3, adamantite: 3 },
    output: { item: 'twilight_fangs', quantity: 1 },
    craftTime: 17,
  },
  celestial_crusher_recipe: {
    id: 'celestial_crusher_recipe',
    name: 'Celestial Crusher Recipe',
    profession: 'blacksmith',
    level: 34,
    materials: { bifrost_metal: 68, asgardian_steel: 58, yggdrasil_bark: 20, dragonstone: 3, adamantite: 5 },
    output: { item: 'celestial_crusher', quantity: 1 },
    craftTime: 17,
  },
  
  // Cosmic Tier (Level 36) - Legendary Equipment
  cosmic_edge_recipe: {
    id: 'cosmic_edge_recipe',
    name: 'Cosmic Edge Recipe',
    profession: 'blacksmith',
    level: 36,
    materials: { bifrost_metal: 75, asgardian_steel: 65, yggdrasil_bark: 30, dragonstone: 5, adamantite: 8 },
    output: { item: 'cosmic_edge', quantity: 1 },
    craftTime: 20,
    requiresMasterBlacksmith: true,
  },
  cosmic_orb_recipe: {
    id: 'cosmic_orb_recipe',
    name: 'Cosmic Orb Recipe',
    profession: 'blacksmith',
    level: 36,
    materials: { bifrost_metal: 65, yggdrasil_bark: 70, asgardian_steel: 50, dragonstone: 5, mana_crystal: 15 },
    output: { item: 'cosmic_orb', quantity: 1 },
    craftTime: 20,
    requiresMasterBlacksmith: true,
  },
  cosmic_fangs_recipe: {
    id: 'cosmic_fangs_recipe',
    name: 'Cosmic Fangs Recipe',
    profession: 'blacksmith',
    level: 36,
    materials: { bifrost_metal: 70, asgardian_steel: 65, yggdrasil_bark: 35, dragonstone: 5, adamantite: 6 },
    output: { item: 'cosmic_fangs', quantity: 1 },
    craftTime: 20,
    requiresMasterBlacksmith: true,
  },
  cosmic_maul_recipe: {
    id: 'cosmic_maul_recipe',
    name: 'Cosmic Maul Recipe',
    profession: 'blacksmith',
    level: 36,
    materials: { bifrost_metal: 80, asgardian_steel: 70, yggdrasil_bark: 25, dragonstone: 5, adamantite: 10 },
    output: { item: 'cosmic_maul', quantity: 1 },
    craftTime: 20,
    requiresMasterBlacksmith: true,
  },
  cosmic_plate_recipe: {
    id: 'cosmic_plate_recipe',
    name: 'Cosmic Warden Armor Recipe',
    profession: 'blacksmith',
    level: 36,
    materials: { bifrost_metal: 95, asgardian_steel: 80, dragonhide: 30, dragonstone: 6, adamantite: 12 },
    output: { item: 'cosmic_plate', quantity: 1 },
    craftTime: 24,
    requiresMasterBlacksmith: true,
  },
  cosmic_helm_recipe: {
    id: 'cosmic_helm_recipe',
    name: 'Cosmic Starforged Helm Recipe',
    profession: 'blacksmith',
    level: 36,
    materials: { bifrost_metal: 70, asgardian_steel: 60, dragonhide: 20, dragonstone: 4, adamantite: 8 },
    output: { item: 'cosmic_helm', quantity: 1 },
    craftTime: 18,
    requiresMasterBlacksmith: true,
  },
  cosmic_greaves_recipe: {
    id: 'cosmic_greaves_recipe',
    name: 'Cosmic Void Legplates Recipe',
    profession: 'blacksmith',
    level: 36,
    materials: { bifrost_metal: 85, asgardian_steel: 70, dragonhide: 25, dragonstone: 5, adamantite: 10 },
    output: { item: 'cosmic_greaves', quantity: 1 },
    craftTime: 22,
    requiresMasterBlacksmith: true,
  },
  cosmic_boots_recipe: {
    id: 'cosmic_boots_recipe',
    name: 'Cosmic Nebula Boots Recipe',
    profession: 'blacksmith',
    level: 36,
    materials: { bifrost_metal: 60, asgardian_steel: 50, dragonhide: 25, dragonstone: 4, adamantite: 6 },
    output: { item: 'cosmic_boots', quantity: 1 },
    craftTime: 16,
    requiresMasterBlacksmith: true,
  },
  cosmic_gauntlets_recipe: {
    id: 'cosmic_gauntlets_recipe',
    name: 'Cosmic Titan Gauntlets Recipe',
    profession: 'blacksmith',
    level: 36,
    materials: { bifrost_metal: 65, asgardian_steel: 55, dragonhide: 22, dragonstone: 4, adamantite: 7 },
    output: { item: 'cosmic_gauntlets', quantity: 1 },
    craftTime: 18,
    requiresMasterBlacksmith: true,
  },
  
  // Level 110 Tier (blacksmith 38) - Legendary Equipment
  voidforged_claymore_recipe: {
    id: 'voidforged_claymore_recipe',
    name: 'Voidforged Claymore Recipe',
    profession: 'blacksmith',
    level: 38,
    materials: { bifrost_metal: 88, asgardian_steel: 78, yggdrasil_bark: 38, dragonstone: 7, adamantite: 11, phoenix_feather: 2 },
    output: { item: 'voidforged_claymore', quantity: 1 },
    craftTime: 23,
    requiresMasterBlacksmith: true,
  },
  infinity_scepter_recipe: {
    id: 'infinity_scepter_recipe',
    name: 'Infinity Convergence Scepter Recipe',
    profession: 'blacksmith',
    level: 38,
    materials: { bifrost_metal: 78, yggdrasil_bark: 83, asgardian_steel: 63, dragonstone: 7, mana_crystal: 20, phoenix_feather: 2 },
    output: { item: 'infinity_scepter', quantity: 1 },
    craftTime: 23,
    requiresMasterBlacksmith: true,
  },
  dimension_blades_recipe: {
    id: 'dimension_blades_recipe',
    name: 'Dimension Rift Blades Recipe',
    profession: 'blacksmith',
    level: 38,
    materials: { bifrost_metal: 83, asgardian_steel: 78, yggdrasil_bark: 43, dragonstone: 7, adamantite: 9, phoenix_feather: 2 },
    output: { item: 'dimension_blades', quantity: 1 },
    craftTime: 23,
    requiresMasterBlacksmith: true,
  },
  judgment_breaker_recipe: {
    id: 'judgment_breaker_recipe',
    name: 'Judgment Breaker Recipe',
    profession: 'blacksmith',
    level: 38,
    materials: { bifrost_metal: 93, asgardian_steel: 83, yggdrasil_bark: 33, dragonstone: 7, adamantite: 13, phoenix_feather: 2 },
    output: { item: 'judgment_breaker', quantity: 1 },
    craftTime: 23,
    requiresMasterBlacksmith: true,
  },
  
  // Primordial Tier (Level 40) - Legendary Equipment
  primordial_cleaver_recipe: {
    id: 'primordial_cleaver_recipe',
    name: 'Primordial Cleaver Recipe',
    profession: 'blacksmith',
    level: 40,
    materials: { bifrost_metal: 100, asgardian_steel: 90, yggdrasil_bark: 40, dragonstone: 8, adamantite: 15, phoenix_feather: 3 },
    output: { item: 'primordial_cleaver', quantity: 1 },
    craftTime: 25,
    requiresMasterBlacksmith: true,
  },
  primordial_catalyst_recipe: {
    id: 'primordial_catalyst_recipe',
    name: 'Primordial Catalyst Recipe',
    profession: 'blacksmith',
    level: 40,
    materials: { bifrost_metal: 90, yggdrasil_bark: 95, asgardian_steel: 75, dragonstone: 8, mana_crystal: 25, phoenix_feather: 3 },
    output: { item: 'primordial_catalyst', quantity: 1 },
    craftTime: 25,
    requiresMasterBlacksmith: true,
  },
  primordial_razors_recipe: {
    id: 'primordial_razors_recipe',
    name: 'Primordial Razors Recipe',
    profession: 'blacksmith',
    level: 40,
    materials: { bifrost_metal: 95, asgardian_steel: 90, yggdrasil_bark: 45, dragonstone: 8, adamantite: 12, phoenix_feather: 3 },
    output: { item: 'primordial_razors', quantity: 1 },
    craftTime: 25,
    requiresMasterBlacksmith: true,
  },
  primordial_crusher_recipe: {
    id: 'primordial_crusher_recipe',
    name: 'Primordial Crusher Recipe',
    profession: 'blacksmith',
    level: 40,
    materials: { bifrost_metal: 110, asgardian_steel: 95, yggdrasil_bark: 35, dragonstone: 8, adamantite: 18, phoenix_feather: 3 },
    output: { item: 'primordial_crusher', quantity: 1 },
    craftTime: 25,
    requiresMasterBlacksmith: true,
  },
  primordial_plate_recipe: {
    id: 'primordial_plate_recipe',
    name: 'Primordial Eternal Armor Recipe',
    profession: 'blacksmith',
    level: 40,
    materials: { bifrost_metal: 130, asgardian_steel: 110, dragonhide: 45, dragonstone: 10, adamantite: 20, phoenix_feather: 4 },
    output: { item: 'primordial_plate', quantity: 1 },
    craftTime: 30,
    requiresMasterBlacksmith: true,
  },
  primordial_helm_recipe: {
    id: 'primordial_helm_recipe',
    name: 'Primordial Ancient Crown Recipe',
    profession: 'blacksmith',
    level: 40,
    materials: { bifrost_metal: 95, asgardian_steel: 85, dragonhide: 30, dragonstone: 7, adamantite: 14, phoenix_feather: 3 },
    output: { item: 'primordial_helm', quantity: 1 },
    craftTime: 24,
    requiresMasterBlacksmith: true,
  },
  primordial_greaves_recipe: {
    id: 'primordial_greaves_recipe',
    name: 'Primordial Timeless Legplates Recipe',
    profession: 'blacksmith',
    level: 40,
    materials: { bifrost_metal: 115, asgardian_steel: 100, dragonhide: 38, dragonstone: 8, adamantite: 17, phoenix_feather: 3 },
    output: { item: 'primordial_greaves', quantity: 1 },
    craftTime: 28,
    requiresMasterBlacksmith: true,
  },
  primordial_boots_recipe: {
    id: 'primordial_boots_recipe',
    name: 'Primordial Infinity Treads Recipe',
    profession: 'blacksmith',
    level: 40,
    materials: { bifrost_metal: 85, asgardian_steel: 75, dragonhide: 35, dragonstone: 6, adamantite: 12, phoenix_feather: 2 },
    output: { item: 'primordial_boots', quantity: 1 },
    craftTime: 22,
    requiresMasterBlacksmith: true,
  },
  primordial_gauntlets_recipe: {
    id: 'primordial_gauntlets_recipe',
    name: 'Primordial Genesis Gauntlets Recipe',
    profession: 'blacksmith',
    level: 40,
    materials: { bifrost_metal: 90, asgardian_steel: 80, dragonhide: 32, dragonstone: 6, adamantite: 13, phoenix_feather: 2 },
    output: { item: 'primordial_gauntlets', quantity: 1 },
    craftTime: 24,
    requiresMasterBlacksmith: true,
  },
  
  // Level 130 Tier (blacksmith 42) - Legendary Equipment
  ancient_destroyer_recipe: {
    id: 'ancient_destroyer_recipe',
    name: 'Ancient World Destroyer Recipe',
    profession: 'blacksmith',
    level: 42,
    materials: { bifrost_metal: 118, asgardian_steel: 108, yggdrasil_bark: 48, dragonstone: 10, adamantite: 20, phoenix_feather: 4, arcane_essence: 5 },
    output: { item: 'ancient_destroyer', quantity: 1 },
    craftTime: 28,
    requiresMasterBlacksmith: true,
  },
  timeless_conduit_recipe: {
    id: 'timeless_conduit_recipe',
    name: 'Timeless Arcane Conduit Recipe',
    profession: 'blacksmith',
    level: 42,
    materials: { bifrost_metal: 108, yggdrasil_bark: 113, asgardian_steel: 88, dragonstone: 10, mana_crystal: 33, phoenix_feather: 4, arcane_essence: 5 },
    output: { item: 'timeless_conduit', quantity: 1 },
    craftTime: 28,
    requiresMasterBlacksmith: true,
  },
  chaos_daggers_recipe: {
    id: 'chaos_daggers_recipe',
    name: 'Chaos Eternal Daggers Recipe',
    profession: 'blacksmith',
    level: 42,
    materials: { bifrost_metal: 113, asgardian_steel: 108, yggdrasil_bark: 53, dragonstone: 10, adamantite: 17, phoenix_feather: 4, arcane_essence: 5 },
    output: { item: 'chaos_daggers', quantity: 1 },
    craftTime: 28,
    requiresMasterBlacksmith: true,
  },
  sovereignty_mace_recipe: {
    id: 'sovereignty_mace_recipe',
    name: 'Mace of Sovereignty Recipe',
    profession: 'blacksmith',
    level: 42,
    materials: { bifrost_metal: 128, asgardian_steel: 113, yggdrasil_bark: 43, dragonstone: 10, adamantite: 23, phoenix_feather: 4, arcane_essence: 5 },
    output: { item: 'sovereignty_mace', quantity: 1 },
    craftTime: 28,
    requiresMasterBlacksmith: true,
  },
  
  // Ragnarok Tier (Level 44) - Mythic Equipment
  ragnarok_destroyer_recipe: {
    id: 'ragnarok_destroyer_recipe',
    name: 'Ragnarok Destroyer Recipe',
    profession: 'blacksmith',
    level: 44,
    materials: { bifrost_metal: 140, asgardian_steel: 120, yggdrasil_bark: 55, dragonstone: 12, adamantite: 25, phoenix_feather: 6, arcane_essence: 10 },
    output: { item: 'ragnarok_destroyer', quantity: 1 },
    craftTime: 35,
    requiresMasterBlacksmith: true,
  },
  ragnarok_apocalypse_recipe: {
    id: 'ragnarok_apocalypse_recipe',
    name: 'Ragnarok Apocalypse Recipe',
    profession: 'blacksmith',
    level: 44,
    materials: { bifrost_metal: 130, yggdrasil_bark: 130, asgardian_steel: 100, dragonstone: 12, mana_crystal: 40, phoenix_feather: 6, arcane_essence: 10 },
    output: { item: 'ragnarok_apocalypse', quantity: 1 },
    craftTime: 35,
    requiresMasterBlacksmith: true,
  },
  ragnarok_reapers_recipe: {
    id: 'ragnarok_reapers_recipe',
    name: 'Ragnarok Reapers Recipe',
    profession: 'blacksmith',
    level: 44,
    materials: { bifrost_metal: 135, asgardian_steel: 120, yggdrasil_bark: 60, dragonstone: 12, adamantite: 22, phoenix_feather: 6, arcane_essence: 10 },
    output: { item: 'ragnarok_reapers', quantity: 1 },
    craftTime: 35,
    requiresMasterBlacksmith: true,
  },
  ragnarok_judgement_recipe: {
    id: 'ragnarok_judgement_recipe',
    name: 'Ragnarok Judgement Recipe',
    profession: 'blacksmith',
    level: 44,
    materials: { bifrost_metal: 150, asgardian_steel: 130, yggdrasil_bark: 50, dragonstone: 12, adamantite: 28, phoenix_feather: 6, arcane_essence: 10 },
    output: { item: 'ragnarok_judgement', quantity: 1 },
    craftTime: 35,
    requiresMasterBlacksmith: true,
  },
  ragnarok_plate_recipe: {
    id: 'ragnarok_plate_recipe',
    name: 'Ragnarok Apocalypse Armor Recipe',
    profession: 'blacksmith',
    level: 44,
    materials: { bifrost_metal: 180, asgardian_steel: 150, dragonhide: 65, dragonstone: 15, adamantite: 35, phoenix_feather: 8, arcane_essence: 12 },
    output: { item: 'ragnarok_plate', quantity: 1 },
    craftTime: 40,
    requiresMasterBlacksmith: true,
  },
  ragnarok_helm_recipe: {
    id: 'ragnarok_helm_recipe',
    name: 'Ragnarok Doomsday Crown Recipe',
    profession: 'blacksmith',
    level: 44,
    materials: { bifrost_metal: 135, asgardian_steel: 120, dragonhide: 45, dragonstone: 10, adamantite: 24, phoenix_feather: 5, arcane_essence: 8 },
    output: { item: 'ragnarok_helm', quantity: 1 },
    craftTime: 32,
    requiresMasterBlacksmith: true,
  },
  ragnarok_greaves_recipe: {
    id: 'ragnarok_greaves_recipe',
    name: 'Ragnarok Fate Legplates Recipe',
    profession: 'blacksmith',
    level: 44,
    materials: { bifrost_metal: 160, asgardian_steel: 140, dragonhide: 55, dragonstone: 12, adamantite: 30, phoenix_feather: 6, arcane_essence: 10 },
    output: { item: 'ragnarok_greaves', quantity: 1 },
    craftTime: 36,
    requiresMasterBlacksmith: true,
  },
  ragnarok_boots_recipe: {
    id: 'ragnarok_boots_recipe',
    name: 'Ragnarok Endwalker Treads Recipe',
    profession: 'blacksmith',
    level: 44,
    materials: { bifrost_metal: 125, asgardian_steel: 110, dragonhide: 50, dragonstone: 9, adamantite: 22, phoenix_feather: 4, arcane_essence: 7 },
    output: { item: 'ragnarok_boots', quantity: 1 },
    craftTime: 28,
    requiresMasterBlacksmith: true,
  },
  ragnarok_gauntlets_recipe: {
    id: 'ragnarok_gauntlets_recipe',
    name: 'Ragnarok Worldbreaker Gauntlets Recipe',
    profession: 'blacksmith',
    level: 44,
    materials: { bifrost_metal: 130, asgardian_steel: 115, dragonhide: 48, dragonstone: 9, adamantite: 24, phoenix_feather: 4, arcane_essence: 8 },
    output: { item: 'ragnarok_gauntlets', quantity: 1 },
    craftTime: 30,
    requiresMasterBlacksmith: true,
  },
  
  // Level 150 Tier (blacksmith 46) - Mythic Equipment
  apocalypse_reaver_recipe: {
    id: 'apocalypse_reaver_recipe',
    name: 'Apocalypse Reaver Recipe',
    profession: 'blacksmith',
    level: 46,
    materials: { bifrost_metal: 160, asgardian_steel: 140, yggdrasil_bark: 65, dragonstone: 15, adamantite: 32, phoenix_feather: 8, arcane_essence: 14 },
    output: { item: 'apocalypse_reaver', quantity: 1 },
    craftTime: 38,
    requiresMasterBlacksmith: true,
  },
  endwalker_staff_recipe: {
    id: 'endwalker_staff_recipe',
    name: 'Endwalker Prism Staff Recipe',
    profession: 'blacksmith',
    level: 46,
    materials: { bifrost_metal: 150, yggdrasil_bark: 150, asgardian_steel: 120, dragonstone: 15, mana_crystal: 50, phoenix_feather: 8, arcane_essence: 14 },
    output: { item: 'endwalker_staff', quantity: 1 },
    craftTime: 38,
    requiresMasterBlacksmith: true,
  },
  fate_renders_recipe: {
    id: 'fate_renders_recipe',
    name: 'Fate Render Blades Recipe',
    profession: 'blacksmith',
    level: 46,
    materials: { bifrost_metal: 155, asgardian_steel: 140, yggdrasil_bark: 70, dragonstone: 15, adamantite: 28, phoenix_feather: 8, arcane_essence: 14 },
    output: { item: 'fate_renders', quantity: 1 },
    craftTime: 38,
    requiresMasterBlacksmith: true,
  },
  eternal_judgement_recipe: {
    id: 'eternal_judgement_recipe',
    name: 'Eternal Judgement Hammer Recipe',
    profession: 'blacksmith',
    level: 46,
    materials: { bifrost_metal: 170, asgardian_steel: 150, yggdrasil_bark: 60, dragonstone: 15, adamantite: 35, phoenix_feather: 8, arcane_essence: 14 },
    output: { item: 'eternal_judgement', quantity: 1 },
    craftTime: 38,
    requiresMasterBlacksmith: true,
  },
  
  health_potion_recipe: {
    id: 'health_potion_recipe',
    name: 'Health Potion Recipe',
    profession: 'botanic',
    level: 1,
    materials: { herb: 9, water: 3 },
    output: { item: 'health_potion', quantity: 5 },
    craftTime: 2,
  },
  mana_potion_recipe: {
    id: 'mana_potion_recipe',
    name: 'Mana Potion Recipe',
    profession: 'botanic',
    level: 5,
    materials: { mana_crystal: 6, water: 3 },
    output: { item: 'mana_potion', quantity: 3 },
    craftTime: 3,
  },
};

const BASE_MATERIALS = {
  iron_ore: { id: 'iron_ore', name: 'Iron Ore', rarity: 'common', value: 50 },
  coal: { id: 'coal', name: 'Coal', rarity: 'common', value: 30 },
  herb: { id: 'herb', name: 'Healing Herb', rarity: 'common', value: 20 },
  water: { id: 'water', name: 'Pure Water', rarity: 'common', value: 10 },
  leather: { id: 'leather', name: 'Treated Leather', rarity: 'common', value: 25 },
  mana_crystal: { id: 'mana_crystal', name: 'Mana Crystal', rarity: 'rare', value: 200 },
  copper_ore: { id: 'copper_ore', name: 'Copper Ore', rarity: 'common', value: 40 },
  granite: { id: 'granite', name: 'Granite', rarity: 'uncommon', value: 60 },
  wood: { id: 'wood', name: 'Wood', rarity: 'common', value: 15 },
  lumber: { id: 'lumber', name: 'Lumber', rarity: 'uncommon', value: 35 },
  rare_flower: { id: 'rare_flower', name: 'Rare Flower', rarity: 'rare', value: 120 },
  // High-tier materials (Lvl 8+)
  mithril_ore: { id: 'mithril_ore', name: 'Mithril Ore', rarity: 'rare', value: 180 },
  adamantite: { id: 'adamantite', name: 'Adamantite', rarity: 'epic', value: 300 },
  dragonstone: { id: 'dragonstone', name: 'Dragonstone', rarity: 'legendary', value: 500 },
  hardwood: { id: 'hardwood', name: 'Hardwood', rarity: 'rare', value: 150 },
  dragonhide: { id: 'dragonhide', name: 'Dragonhide Leather', rarity: 'epic', value: 280 },
  mystic_bark: { id: 'mystic_bark', name: 'Mystic Bark', rarity: 'rare', value: 160 },
  arcane_essence: { id: 'arcane_essence', name: 'Arcane Essence', rarity: 'epic', value: 320 },
  phoenix_feather: { id: 'phoenix_feather', name: 'Phoenix Feather', rarity: 'legendary', value: 450 },
  moonflower: { id: 'moonflower', name: 'Moonflower', rarity: 'epic', value: 250 },
};

const CUSTOM_DATA_FILE = path.resolve(process.cwd(), 'data', 'crafting.json');

function loadCustomCraftingData() {
  if (!fs.existsSync(CUSTOM_DATA_FILE)) return { materials: {}, recipes: {} };
  try {
    const raw = fs.readFileSync(CUSTOM_DATA_FILE, 'utf8');
    const data = JSON.parse(raw);
    return {
      materials: data.materials || {},
      recipes: data.recipes || {},
    };
  } catch {
    return { materials: {}, recipes: {} };
  }
}

const CUSTOM_DATA = loadCustomCraftingData();

export const MATERIALS = { ...BASE_MATERIALS, ...CUSTOM_DATA.materials };
export const RECIPES = { ...BASE_RECIPES, ...GEM_RECIPES, ...CUSTOM_DATA.recipes };

export const PROFESSIONS = (() => {
  const merged = JSON.parse(JSON.stringify(BASE_PROFESSIONS));
  for (const recipe of Object.values(RECIPES)) {
    if (!recipe?.profession) continue;
    if (!merged[recipe.profession]) continue;
    if (!merged[recipe.profession].recipes.includes(recipe.id)) {
      merged[recipe.profession].recipes.push(recipe.id);
    }
  }
  return merged;
})();

export function getProfession(professionId) {
  return PROFESSIONS[professionId];
}

export function getRecipe(recipeId) {
  return RECIPES[recipeId];
}

// Pre-sort recipes by level at module load (avoid sorting repeatedly)
export const RECIPES_SORTED = Object.values(RECIPES).sort((a, b) => a.level - b.level);

// Create flat materials lookup for O(1) access
const MATERIALS_FLAT = Object.assign({}, MATERIALS);

/**
 * Get material from dashboard API (with drop chance & adventure level)
 * Falls back to hardcoded materials if not found in API
 */
export function getMaterial(materialId) {
  // Try dashboard API first (has drop chance, adventure level, gathering type)
  const apiMaterial = getMatFromAPI(materialId);
  if (apiMaterial) return apiMaterial;
  
  // Fall back to hardcoded materials
  return MATERIALS_FLAT[materialId];
}

export function getRecipesByProfession(professionId) {
  const profession = getProfession(professionId);
  return profession ? profession.recipes.map(id => RECIPES[id]) : [];
}
